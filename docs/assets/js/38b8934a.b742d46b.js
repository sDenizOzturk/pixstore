"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[889],{1445:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"usage/initialization","title":"Initialization","description":"Learn how to set up Pixstore for both backend (Node.js) and frontend (browser) environments.","source":"@site/docs/usage/initialization.md","sourceDirName":"usage","slug":"/usage/initialization","permalink":"/pixstore/docs/usage/initialization","draft":false,"unlisted":false,"editUrl":"https://github.com/sDenizOzturk/pixstore/tree/main/docusaurus/docs/usage/initialization.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"initialization","title":"Initialization","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Usage","permalink":"/pixstore/docs/category/usage"},"next":{"title":"Image CRUD on the Backend","permalink":"/pixstore/docs/usage/backend-crud"}}');var o=i(4848),s=i(8453);const r={id:"initialization",title:"Initialization",sidebar_position:1},a="Initialization",d={},l=[{value:"Backend Initialization",id:"backend-initialization",level:2},{value:"Frontend Initialization",id:"frontend-initialization",level:2},{value:"What happens under the hood?",id:"what-happens-under-the-hood",level:2}];function c(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"initialization",children:"Initialization"})}),"\n",(0,o.jsxs)(n.p,{children:["Learn how to set up Pixstore for both backend (Node.js) and frontend (browser) environments.",(0,o.jsx)(n.br,{}),"\n","This guide covers the minimal setup required to get Pixstore working in your app."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"backend-initialization",children:"Backend Initialization"}),"\n",(0,o.jsxs)(n.p,{children:["To use Pixstore on the server side, import and call ",(0,o.jsx)(n.code,{children:"initPixstoreBackend"}),".\nYou can provide custom configuration or use defaults."]}),"\n",(0,o.jsx)(n.admonition,{title:"Required!",type:"note",children:(0,o.jsxs)(n.p,{children:["You ",(0,o.jsx)(n.strong,{children:"must"})," call ",(0,o.jsx)(n.code,{children:"initPixstoreBackend()"})," ",(0,o.jsx)(n.em,{children:"once"})," before using any Pixstore backend features.\nIt should be the very first Pixstore call in your app (before saving or fetching any images)."]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { initPixstoreBackend } from 'pixstore/backend'\n\n// Minimal setup (uses default config)\ninitPixstoreBackend()\n\n// Or with custom options\ninitPixstoreBackend({\n  imageRootDir: 'my-images',\n  databasePath: './data/pixstore.sqlite',\n})\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"This prepares the SQLite database and image storage directory."}),"\n",(0,o.jsxs)(n.li,{children:["If ",(0,o.jsx)(n.code,{children:"defaultEndpointEnabled"})," is true (default), Pixstore exposes an HTTP endpoint for image serving."]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Tip:"}),"\nIf you disable the default endpoint, you must provide your own image endpoint (see ",(0,o.jsx)(n.a,{href:"./custom-endpoint",children:"Custom Endpoints"}),")."]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"For all configuration options, see"})," ",(0,o.jsx)(n.a,{href:"../api-reference/types#pixstorebackendconfig",children:"PixstoreBackendConfig Type"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"frontend-initialization",children:"Frontend Initialization"}),"\n",(0,o.jsxs)(n.p,{children:["On the browser side, import and call ",(0,o.jsx)(n.code,{children:"initPixstoreFrontend"}),".\nYou can optionally customize cache settings or IndexedDB names."]}),"\n",(0,o.jsx)(n.admonition,{title:"Required!",type:"note",children:(0,o.jsxs)(n.p,{children:["You ",(0,o.jsx)(n.strong,{children:"must"})," call ",(0,o.jsx)(n.code,{children:"initPixstoreFrontend()"})," ",(0,o.jsx)(n.em,{children:"once"})," before using any Pixstore functions on the frontend.\nIt should be the very first Pixstore call in your browser app, before attempting to cache or fetch images."]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { initPixstoreFrontend } from 'pixstore/frontend'\n\n// Minimal setup (uses default config)\ninitPixstoreFrontend()\n\n// Or with custom options\ninitPixstoreFrontend({\n  frontendImageCacheLimit: 200,\n  frontendDbName: 'custom-pixstore',\n  defaultEndpointConnectHost: 'https://your-api-host',\n})\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"This prepares the IndexedDB database for image caching."}),"\n",(0,o.jsxs)(n.li,{children:["You can safely call ",(0,o.jsx)(n.code,{children:"initPixstoreFrontend"})," early in your app (e.g., at startup)."]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{title:"Critical!",type:"warning",children:(0,o.jsxs)(n.p,{children:["If you use default fetcher, you ",(0,o.jsx)(n.strong,{children:"must"})," set ",(0,o.jsx)(n.code,{children:"defaultEndpointConnectHost: string"}),"."]})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"For all configuration options, see"})," ",(0,o.jsx)(n.a,{href:"../api-reference/types#pixstorefrontendconfig",children:"PixstoreFrontendConfig Type"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"what-happens-under-the-hood",children:"What happens under the hood?"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Backend:"})," Creates necessary folders and tables, starts the HTTP endpoint if enabled."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Frontend:"})," Sets up browser database, cache limits, and network settings."]}),"\n",(0,o.jsx)(n.li,{children:"Both modules validate your config and fall back to safe defaults if you skip options."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var t=i(6540);const o={},s=t.createContext(o);function r(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);